# 车辆 RWA 业务模型

**版本：** Draft v0.1

**范围：** 业务模式、生命周期逻辑、结算公式与风控参数、产品形态和技术方案。

## 1. 业务模型（概览）

现实世界车辆完成链上确权（RWA）。在铸造时，协议按车辆初始估值一次性发行**锁定代币**（创世面值 1 USD/枚）。在持有期间，**锁定池按车辆折旧曲线比例销毁**，使链上锁定供给与线下残值同向变化。车主在使用车辆过程中可获得**行驶/数据奖励**（可流通、永不销毁）。当发生交易时，买方支付**成交价 $S$**，协议基于去中心化预言机给出的**结算价 $P_{\text{settle}}$** 进行结算，并**保证买方在链上的锁定市值等于其购车价格**（买方保护补足）。若二级市场价格更高，卖方获得**解锁代币**作为上行红利。买方接收的锁定份额成为**新周期（Epoch）基数**，继续按比例销毁。

1. 车辆在确权时按初始估值一次性发放等额 锁定 Token；
2. 在持有期间，锁定池按折旧曲线进行按比例销毁（Proportional Burn），使“锁定供给”与“车辆残值”始终同向变化。
3. 车主在用车过程中持续获得行驶奖励/数据奖励（直接流通、永不销毁）。
4. 当发生交易时，配置锁定的 Token：
    1. 解锁 Token，将车辆残值等价的Token转给买家，如果 Token 价值小于车辆残值，由系统为买方补足；
    2. 剩余 Token 归卖家，为 Token 升值的收益
5. 若二级市场 Token 价格下跌导致卖方可交付的锁定 Token 市值不足，协议通过Buyer Protection Reserve（BPR）为买方补足锁定 Token；若价格上升或供给充裕，则卖方获得解锁 Token 作为红利。
6. 交易完成后进入新持有周期，以本次交易的锁定基数为新的“Epoch Base”，继续按比例销毁，并在下一次交易时再次按同样规则结算与承接。
7. 由此形成“确权 → 锁定铸造 → 比例销毁 →（奖励流通）→ 交易结算（买方兜底/卖方解锁）→ 新 Epoch”的闭环。

通俗版

1. 当一辆车上链确权时，系统会按照它的市场价值，生成同等价值的锁定代币。之后，这些代币会随着车辆折旧逐渐“烧掉一部分”，就像代币的数量在跟着车的残值一起往下走。
2. 车主在用车过程中，还能不断拿到一些额外的奖励代币（比如行驶奖励、数据贡献奖励），这些奖励是直接可用的，不会被销毁。
3. 当车要转手时，买家支付成交价。系统会用成交价来算，确保买家最终收到的锁定代币市值，和他实际花的钱完全一致。初次确权时的价格和二手交易成交价的价差为实际折旧，在交易时，按实际折旧等币销毁代币。
4. 如果这时候市场价格下跌，卖家手里的锁定代币不够覆盖买家的成交价，系统就会动用“买方保护储备金”（BPR）来补足；反过来，如果价格上涨或供给充足，卖家还能额外解锁一部分代币作为收益。
5. 交易完成后，新买家承接的那部分锁定代币，会作为一个新的“起点”，继续随折旧曲线销毁，直到下一次交易再重新结算。
6. 这样就形成了一个完整闭环：**确权 → 锁定代币 → 按比例销毁 →（车主奖励）→ 交易结算（买方兜底/卖方解锁）→ 新周期**。
7. 系统的保护机制：
    1. 交易中，系统可以收取卖家的收益税，避免币价上涨上涨带来的释放量
    2. 卖家收益的缓慢释放策略，防止短期大量代币入市
    3. 系统使用 BPR 补足买方的等值代币时，可以引入保底策略，根据币价有限补足。

## 2. 生命周期流程（Lifecycle）

1. **确权与铸造** → 按初始估值 $V_0$   铸造  $T_0 = V_0$ 枚代币（全部锁定）。
2. **持有期** → 随残值曲线 $R(t)$ 按比例销毁；锁定余额 

$$
L(t) = T_{\text{base}}^{(k)} \times R^{(k)}(t)
$$

1. **奖励** → 行驶/数据奖励为可流通代币；不参与销毁；可进入 DeFi。
2. **交易结算（A → B）** → 买方支付 $S$；协议按 $P_{\text{settle}}$ 计算应收锁定、卖方解锁与系统补足。
3. **周期重置** → 买方承接的锁定量成为下一周期的 $T_{\text{base}}^{(k+1)}$；继续按比例销毁。

## 3. 折旧与按比例销毁

- 残值比例曲线： $R(t) \in [0,1]$，由预言机/模型提供（可考虑车龄+里程）。
- 交易前锁定余额：

$$
L(t) = T_{\text{base}}^{(k)} \times R^{(k)}(t)
$$

- 自上个周期开始累计销毁：

$$
\text{Burn} = T_{\text{base}}^{(k)} - L(t)
$$

## 4. 交易与结算（买方保护）

**变量定义**

- $V_0$：初始估值（USD）； $T_0 = V_0$（创世铸造，全部锁定）。
- $S$：本次交易的**成交价**（USD）。
- $P_{\text{settle}}$：**结算价**（USD/枚），由去中心化预言机计算的 TWAP/Floor。
- $L$：结算前的**锁定余额**（枚）。
- $T_{\text{base}}^{(k)}$：第 $k$ 个周期的锁定基数；$t^*$  为结算时刻。

**买方必须收到其锁定市值 =  $S$ 的代币：**

$$
T_{\text{req}} = \frac{S}{P_{\text{settle}}}
$$

$$
T_{\text{fromA}} = \min(L, \, T_{\text{req}})
$$

$$
T_{\text{topup}} = \max(0, \, T_{\text{req}} - T_{\text{fromA}})
$$

$$
T_{\text{unlock}} = \max(0, \, L - T_{\text{req}})
$$

$$
T_{\text{toB}} = T_{\text{fromA}} + T_{\text{topup}} = T_{\text{req}}
$$

卖方收益：

$$
\text{收益} = S + T_{\text{unlock}}
$$

## 5. 周期重置（Epoch Rollover）

结算后新的周期基数：

$$
T_{\text{base}}^{(k+1)} := T_{\text{toB}} = T_{\text{req}} = \frac{S}{P_{\text{settle}}}
$$

下个周期的锁定轨迹：

$$
L^{(k+1)}(\tau) = T_{\text{base}}^{(k+1)} \times R^{(k+1)}(\tau), \quad R^{(k+1)}(0) = 1
$$

## 6. 预言机与结算价 $P_\text{settle}$（反操纵）

- **TWAP/VWAP**：跨多交易场所/流动性来源的窗口 W。
- **价格地板： $P_\text{settle} = max(TWAP_W, P_\text{floor})$**，其中  $P_\text{floor} = (1 − δ) × 30$ 日中位价。
- **冷静期**：挂牌至结算须跨越 W 小时，采集 TWAP，抑制瞬时操纵。
- **上限: $单笔补足 ≤ λ × T_\text{req}$**；$全网日度补足 ≤ κ × BPR$。

## 7. 买方保护储备（BPR）

- **资金来源**：铸造/交易手续费、数据变现收入的 f%；可选在每次上链铸造时按 ρ × V0 预注入 BPR。
- **补足路径（优先）**：BPR 使用稳定币在二级市场**回购**代币后发放 $T_\text{topup}$（供应中性）。若 BPR 不足，治理可触发**应急增发**并对买方设置**线性归属**。
- **熔断**：系统性下跌时上调地板折扣/暂缓结算/转为部分补足。

## 8. 奖励与供给动态

- 奖励代币可流通、永不销毁。
- 按比例销毁使锁定侧形成**自然通缩**。
- 采用 BPR 回购补足可保持总量中性；启用应急增发则为**受控通胀**（线性释放以减压）。

## 9. 示例推导（Worked Examples）

**设定：**

$$
V_0 = 50{,}000 \quad \Rightarrow \quad T_0 = 50{,}000
$$

一年后残值比例

$$
R = 0.8 \quad \Rightarrow \quad L = 40{,}000
$$

成交价

$$
S = 40{,}000
$$

**情形 A – 价格下跌： $P_{\text{settle}} = 0.80$**

$$
T_{\text{req}} = \frac{40{,}000}{0.8} = 50{,}000, \quad T_{\text{fromA}} = 40{,}000
$$

$$
T_{\text{topup}} = 10{,}000, \quad T_{\text{unlock}} = 0
$$

买方收到 50,000 枚锁定（= $40,000$）；卖方收到 $40,000$  现金。

**情形 B – 价格上涨： $P_{\text{settle}} = 2.00$**

$$
\begin{align*}
&T_{\text{req}} = \frac{40{,}000}{2} = 20{,}000, \quad T_{\text{fromA}} = 20{,}000\\
&T_{\text{topup}} = 0, \quad T_{\text{unlock}} = 20{,}000\\
\end{align*}
$$